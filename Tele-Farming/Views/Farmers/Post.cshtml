
@model Tele_Farming.Models.Combined_Read_Write_Posts

@{
    ViewData["Title"] = "Index";
}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    @*<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
        <script src="//code.jquery.com/jquery-1.11.1.min.js"></script> ---- include the above in your head tag --------*@


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://kit.fontawesome.com/15fc770d9f.js" crossorigin="anonymous"></script>


    <script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
    <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>


    <link rel="stylesheet" href="~/css/Home Page Css/post_page.css">
    <link rel="stylesheet" href="~/css/Home Page Css/nav.css">
    <link rel="stylesheet" href="~/css/Home Page Css/home_nav.css">

    @*<link rel="stylesheet" href="~/css/Home Page Css/add_image_section.css">
        <script src="~/js/Home Page Js/post_page.js" type="text/javascript"></script>*@

    <script language="Javascript">
        function addOne() {
            document.getElementById("formDate22").classList.remove("d-none");
            document.getElementById("formDate2").classList.remove("d-none");
            document.getElementById("add2").classList.remove("d-none");
            document.getElementById("formDate2").required = true;

            $("#add1").hide();
        }
        function addTwo() {
            document.getElementById("formDate33").classList.remove("d-none");
            document.getElementById("formDate3").classList.remove("d-none");
            document.getElementById("formDate3").required = true;

            $("#add2").hide();
        }
        function addThree() {
            document.getElementById("formFile11").classList.remove("d-none");
            document.getElementById("formFile1").classList.remove("d-none");
            document.getElementById("add4").classList.remove("d-none");
            document.getElementById("formFile1").required = true;

            $("#add3").hide();
        }
        function addFour() {
            document.getElementById("formFile22").classList.remove("d-none");
            document.getElementById("formFile2").classList.remove("d-none");
            document.getElementById("add5").classList.remove("d-none");
            document.getElementById("formFile2").required = true;

            $("#add4").hide();
        }
        function addFive() {
            document.getElementById("formFile33").classList.remove("d-none");
            document.getElementById("formFile3").classList.remove("d-none");
            document.getElementById("add6").classList.remove("d-none");
            document.getElementById("formFile3").required = true;

            $("#add5").hide();
        }
        function addSix() {
            document.getElementById("formFile44").classList.remove("d-none");
            document.getElementById("formFile4").classList.remove("d-none");
            document.getElementById("formFile4").required = true;

            $("#add6").hide();
        }

    </script>

</head>
<body>

    <!---Navigation-->
    <div id="parentNav">
        <nav class="navbar navbar-expand-md navbar-dark">
            <a class="navbar-brand" href="home.php"><img src="~/images/Home Page Images/large.png"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarExpandView">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarExpandView">
                <ul class="navbar-nav ml-auto">

                    <li>
                        <a class="nav-link" asp-controller="Farmers" asp-action="Post" asp-route-id=@Model.Farmer.farmer_id><i class="fas fa-newspaper"></i> হোম</a>
                    </li>
                    <li>
                        <a class="nav-link profile_image_nav" asp-controller="Farmers" asp-action="ProfilePage" asp-route-id=@Model.Farmer.farmer_id><i class="fas fa-user"></i> @Model.Farmer.name </a>
                    </li>
                    <li>
                        <a class="nav-link" asp-controller="Farmers" asp-action="SignOutUser" asp-route-id=@Model.Farmer.farmer_id><i class="fas fa-sign-out-alt"></i> প্রস্থান</a>
                    </li>

                </ul>
            </div>
        </nav>
    </div>
    <!---End Navigation-->



    <!--<div class="container-fluid home_nav_container">

        <div class="container">
            <div class="row">
                <div class="col-lg-7">
                    <ul class="nav justify-content-end">


                        <li class="nav-item">
                            <a class="nav-link active" href="#">Pending</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Accepted</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Finished</a>
                        </li>-->
                        <!--
                                          <li class="nav-item">
                                            <a class="nav-link btn btn-success" href="#">Create New Post</a>
                                          </li>
                        -->
                    <!--</ul>
                </div>
                <div class="col-lg-5 create_a_post_column">
                    <a class="btn btn-success create_a_post_button" data-toggle="modal" data-target="#myModal" href="#">Create New Post</a>
                </div>
            </div>


        </div>

    </div>-->




    <div class="container-fluid home_nav_container">

        <div class="container">
            <div class="row">
                <div class="col-lg-7">
                    <ul class="nav justify-content-end">

                        @if ( ViewData["type"].Equals("Pending") )
                        {
                            <li class="nav-item active">
                                <a class="nav-link" asp-controller="Farmers" asp-action="Post" asp-route-id=@Model.Farmer.farmer_id asp-route-type="Pending">অপেক্ষমান</a>
                            </li>
                        }
                        else
                        {
                            <li class="nav-item">
                                <a class="nav-link" asp-controller="Farmers" asp-action="Post" asp-route-id=@Model.Farmer.farmer_id asp-route-type="Pending">অপেক্ষমান</a>
                            </li>

                        }

                        @if (ViewData["type"].Equals("Accepted"))
                        {
                            <li class="nav-item active">

                                <a class="nav-link" asp-controller="Farmers" asp-action="Post" asp-route-id=@Model.Farmer.farmer_id asp-route-type="Accepted">গৃহীত</a>
                            </li>

                        }
                        else
                        {
                            <li class="nav-item">

                                <a class="nav-link" asp-controller="Farmers" asp-action="Post" asp-route-id=@Model.Farmer.farmer_id asp-route-type="Accepted">গৃহীত</a>
                            </li>

                        }

                        @if ( ViewData["type"].Equals("Finished") )
                        {
                            <li class="nav-item active">

                                <a class="nav-link" asp-controller="Farmers" asp-action="Post" asp-route-id=@Model.Farmer.farmer_id asp-route-type="Finished">সম্পন্ন</a>
                            </li>
                        }
                        else
                        {
                            <li class="nav-item">

                                <a class="nav-link" asp-controller="Farmers" asp-action="Post" asp-route-id=@Model.Farmer.farmer_id asp-route-type="Finished">সম্পন্ন</a>
                            </li>
                        }
                        <!--
                                          <li class="nav-item">
                                            <a class="nav-link btn btn-success" href="#">Create New Post</a>
                                          </li>
                        -->
                    </ul>
                </div>
                <div class="col-lg-5 create_a_post_column">
                    <a class="btn btn-success create_a_post_button" data-toggle="modal" data-target="#myModal" href="#">নতুন পোস্ট তৈরি করুন</a>
                </div>
            </div>


        </div>

    </div>





    <div class="container">
        <!-- Button to Open the Modal -->
        <!-- The Modal -->
        <div class="modal fade" id="myModal">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">নতুন পোস্ট তৈরি করুন</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>



                    <!-- Modal body -->
                    <div class="modal-body">
                        <div class="container">


                            @using (Html.BeginForm("Post", "Farmers", FormMethod.Post, new { enctype = "multipart/form-data" }))
                            {
                                @*<form asp-action="Post" method="post">*@
                                @*@foreach (var item in Model)
                                    {
                                        if (item.Agent == null)
                                            <input type="hidden" name="farmer_id" asp-for=@item.Farmer.farmer_id />
                                        else
                                            <input type="hidden" name="agent_id" asp-for=@item.Agent.agent_id value="0" />
                                            break;
                                    }*@
                                @*@if (Model.PostList != null)
                                    {*@
                                @*@foreach (var item in Model.PostList)
                                    {*@

                                @*<input asp-for="Post.agent_id" type="hidden" class="form-control" id="title" value=1>*@
                                <input asp-for="Post.farmer_id" type="hidden" class="form-control" id="title" value=@Model.Farmer.farmer_id>

                                <input asp-for="Post.post_status" type="hidden" class="form-control" id="title" value="Pending">
                                <input asp-for="Post.is_accepted" type="hidden" class="form-control" id="title" value="0">

                                @*@Html.EditorFor(x => x.Post.post_time, new { htmlAttributes = new { @value = @DateTime.Now.ToString() } })*@
                                @*@Html.TextBoxFor(m => m.Post.post_time, "{0:yyyy-MM-dd}", new { htmlAttributes = new { @class = "form-control", @value = @DateTime.Now , @type= "datetime-local" } })*@

                                @*@Html.HiddenFor(m => m.agent_id, new { value = 0 })
                                    @Html.HiddenFor(m => m.farmer_id, new { value = 1 })
                                    @Html.HiddenFor(m => m.post_status, new { value = "1" })
                                    @Html.HiddenFor(m => m.is_accepted, new { value = "2" })*@

                                @*@Html.EditorFor(m => m.agent_id, new { htmlAttributes = new { @class = "form-control", value = 0, type = "hidden" } })*@
                                @*@Html.EditorFor(m => m.farmer_id, new { htmlAttributes = new { @class = "form-control", value = "1", type = "hidden" } })
                                    @Html.EditorFor(m => m.post_status, new { htmlAttributes = new { @class = "form-control", value = "1", type = "hidden" } })
                                    @Html.EditorFor(m => m.is_accepted, new { htmlAttributes = new { @class = "form-control", value = "0", type = "hidden" } })*@


                                @*break;*@

                                @*}*@
                                @*}*@
                                <div class="form-group">
                                    <label>শিরোনাম:</label>
                                    @*<input asp-for="Post.title" type="text" class="form-control" id="title" placeholder="Title (max 70 words)" name="title">*@
                                    @Html.EditorFor(m => m.Post.title, new { htmlAttributes = new { @id = "title", @class = "form-control", placeholder = "Title (max 70 words)", type = "text" } })
                                    <div class="valid-feedback">Valid.</div>
                                    <div class="invalid-feedback">Please fill out this field.</div>
                                </div>

                                <div class="form-group">
                                    <label>বর্ণনা:</label>
                                    @*<textarea asp-for="Post.description" class="form-control" rows="5" id="description" name="description" placeholder="Description (max 300 words)"></textarea>*@
                                    @*@Html.TextAreaFor(m => m.Post.description, new { htmlAttributes = new { @id = "description", @class = "form-control", placeholder = "Description (max 300 words)", rows = 5 } })*@
                                    @Html.TextAreaFor(m => m.Post.description, new { @class = "form-control", rows = 5, @id = "description", placeholder = "Description (max 300 words)" })
                                </div>

                                <!--<div class="form-group">-->
                                @*<input type="text" id="datepicker" asp-for="Post.post_time">*@
                                @*@Html.EditorFor(m => m.time, "{0:yyyy-MM-dd}", new { htmlAttributes = new { @class = "form-control" } })*@

                                @*<input asp-for="Post.Post_Time[0].time" class="form-control" id="datepicker1" />*@

                                @*@Html.EditorFor(m => m.Post.Post_Time[0].time, new { htmlAttributes = new { @id = "datepicker1", @class = "form-control" } })*@
                                @*<input type="text" id="datepicker" asp-for="Post.Post_Time[0].time">*@
                                @*@Html.(m => m.Post.post_time, new { @class = "form-control", @id = "date_picker" })*@
                                <!--</div>-->

                                <div class="form-group">
                                    <label>পোস্টের ধরন নির্বাচন করুন:</label>
                                    @*<textarea asp-for="Post.description" class="form-control" rows="5" id="description" name="description" placeholder="Description (max 300 words)"></textarea>*@
                                    @*@Html.TextAreaFor(m => m.Post.description, new { htmlAttributes = new { @id = "description", @class = "form-control", placeholder = "Description (max 300 words)", rows = 5 } })*@
                                    @*<select class="form-control">
                                            <option>Crops</option>
                                            <option>Livestock</option>
                                            <option>Fisheries</option>
                                        </select>*@
                                    <select asp-for="Post.Category" class="form-select select_section" aria-label="Default select example">
                                        <option selected>পোস্টের ধরন নির্বাচন করুন:</option>
                                        <option value="Crops">শস্য</option>
                                        <option value="Livestock">পশু</option>
                                        <option value="Fisheries">মৎস্য</option>
                                    </select>
                                </div>




                                <div class="form-group">
                                    <label>সাক্ষাতের সময় দিন(সর্বাধিক ৩):</label>
                                    <div class="row">
                                        <div class="col-11">
                                            @Html.EditorFor(m => m.Post.Post_Time[0].time, new { htmlAttributes = new { @id = "formDate1", @class = "form-control" } })
                                        </div>
                                        <div class="col-1">
                                            <button type="button" id="add1" class="btn btn-success rounded-circle" onclick="addOne()">+</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group d-none" id="formDate22">
                                    <div class="row">
                                        <div class="col-11">
                                            @Html.EditorFor(m => m.Post.Post_Time[1].time, new { htmlAttributes = new { @id = "formDate2", @class = "form-control d-none" } })
                                        </div>
                                        <div class="col-1">
                                            <button id="add2" class="btn btn-success rounded-circle d-none" onclick="addTwo()">+</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group d-none" id="formDate33">
                                    <div class="row">
                                        <div class="col-11">
                                            @Html.EditorFor(m => m.Post.Post_Time[2].time, new { htmlAttributes = new { @id = "formDate3", @class = "form-control d-none" } })
                                        </div>
                                        <div class="col-1">
                                        </div>
                                    </div>
                                </div>










                                <!--<div class="form-group">-->
                                @*<input class="form-control input_file_section" type="file" id="formFile">*@
                                @*@Html.EditorFor(m => m.Post.Post_Images[0].ImageFile, new { htmlAttributes = new { @id = "formFile", @class = "form-control", type = "file" } })*@

                                @*</div>*@

                                <div class="form-group">
                                    <label>ছবি দিন(সর্বাধিক ৫):</label>
                                    <div class="row">
                                        <div class="col-11">
                                            @Html.EditorFor(m => m.Post.Post_Images[0].ImageFile, new { htmlAttributes = new { @id = "formFile", @class = "form-control", type = "file" } })
                                        </div>
                                        <div class="col-1">
                                            <button id="add3" class="btn btn-success rounded-circle" onclick="addThree()">+</button>

                                        </div>
                                    </div>

                                </div>

                                <div class="form-group d-none" id="formFile11">
                                    <div class="row">
                                        <div class="col-11">
                                            @Html.EditorFor(m => m.Post.Post_Images[1].ImageFile, new { htmlAttributes = new { @id = "formFile1", @class = "form-control d-none", type = "file" } })
                                        </div>
                                        <div class="col-1">
                                            <button id="add4" class="btn btn-success rounded-circle d-none" onclick="addFour()">+</button>

                                        </div>
                                    </div>

                                </div>

                                <div class="form-group d-none" id="formFile22">
                                    <div class="row">
                                        <div class="col-11">
                                            @Html.EditorFor(m => m.Post.Post_Images[2].ImageFile, new { htmlAttributes = new { @id = "formFile2", @class = "form-control d-none", type = "file" } })
                                        </div>
                                        <div class="col-1">
                                            <button id="add5" class="btn btn-success rounded-circle d-none" onclick="addFive()">+</button>

                                        </div>
                                    </div>

                                </div>

                                <div class="form-group d-none" id="formFile33">
                                    <div class="row">
                                        <div class="col-11">
                                            @Html.EditorFor(m => m.Post.Post_Images[3].ImageFile, new { htmlAttributes = new { @id = "formFile3", @class = "form-control d-none", type = "file" } })
                                        </div>
                                        <div class="col-1">
                                            <button id="add6" class="btn btn-success rounded-circle d-none" onclick="addSix()">+</button>

                                        </div>
                                    </div>

                                </div>

                                <div class="form-group d-none" id="formFile44">
                                    <div class="row">
                                        <div class="col-11">
                                            @Html.EditorFor(m => m.Post.Post_Images[4].ImageFile, new { htmlAttributes = new { @id = "formFile4", @class = "form-control d-none", type = "file" } })
                                        </div>
                                        <div class="col-1">
                                        </div>
                                    </div>

                                </div>




                                <!--<div class="form-group" >

                                <div class="container">
                                    <br>
                                    <div class="col-sm-8">-->
                                @*<form role="form">*@
                                <!--<legend>Add Images</legend>
                                <div class="row">
                                    <div class="form-group col-sm-2">
                                        <div class="img-picker"></div>
                                    </div>
                                    <div class="form-group col-sm-2">
                                        <div class="img-picker"></div>
                                    </div>
                                    <div class="form-group col-sm-2">
                                        <div class="img-picker"></div>
                                    </div>
                                    <div class="form-group col-sm-2">
                                        <div class="img-picker"></div>
                                    </div>
                                    <div class="form-group col-sm-2">
                                        <div class="img-picker"></div>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary">Submit</button>-->
                                @*</form>*@
                                <!--</div>
                                    </div>

                                </div>-->







                                @*<input asp-for="Post" type="hidden" class="form-control" id="title" >*@
                                <!-- <button type="submit" class="btn btn-primary">Submit</button> -->
                                @*<div class="form-group" id="date_picker">
                                            <input type="text" id="datepicker">
                                    </div>

                                    <div class="form-group" id="image_input_taker">
                                        <label for="formFile" class="form-label">Add Images</label>
                                        <input class="form-control" type="file" class="input_file_section" id="formFile">
                                    </div>*@

                                <div class="submit">
                                    <button class="btn submit_btn" type="submit">জমা দিন</button>
                                </div>

                                @*</form>*@
                            }

                        </div>
                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-success" data-dismiss="modal">বন্ধ করন</button>
                    </div>

                </div>
            </div>
        </div>

    </div>

    <div class="container">


        <div class="row">
            <div class="col-lg-12">
                @if (Model.Farmer.Post != null)
                {
                    @foreach (var item in Model.Farmer.Post)
                    {
                        <div class="row">
                            <div class="col-lg-1"></div>
                            <div class="col-lg-10">
                                <div class="post_section">
                                    <div class="row">
                                        <div class="col-lg-1"></div>
                                        <div class="col-lg-8">
                                            <div class="text">
                                                <h5>@Html.DisplayFor(modelItem => item.title)</h5>


                                                @if (item.description.Length < 220)
                                                {
                                                    <p>
                                                        @Html.DisplayFor(modelItem => item.description)
                                                    </p>
                                                }
                                                else
                                                {
                                                    String description = item.description.Substring(0, 220);
                                                    description = description + "...";
                                                    <p>
                                                        @Html.DisplayFor(modelItem => description)
                                                    </p>
                                                }

                                            </div>
                                        </div>
                                        <div class="col-lg-2 view_button_area">
                                            <div class="view_button">
                                                <a asp-controller="Farmers" asp-action="ViewPostPending" asp-route-id=@item.post_id asp-route-f_id=@item.farmer_id ><p>দেখুন</p></a>
                                            </div>
                                        </div>
                                        <div class="col-lg-1"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-1"></div>
                        </div>
                    }
                }


            </div>
        </div>
    </div>
    <script>
        $('#datepicker').datepicker({
            uiLibrary: 'bootstrap4'
        });
    </script>
</body>
</html>






